<div class="max-w-2xl mx-auto py-8 px-2">
    <div class="mb-4">
        <h2 class="text-xl font-semibold">Thùng rác</h2>
        <p class="text-sm text-gray-500 mt-1">Các bài viết đã xóa của bạn. Bạn có thể khôi phục hoặc xóa vĩnh viễn.</p>
    </div>

    <div *ngIf="posts.length === 0 && !isLoading" class="text-gray-400 text-center py-8">
        Không có bài viết trong thùng rác.
    </div>

    <div *ngFor="let post of posts; let last = last" #postItem class="pb-2"
        [ngClass]="{'border-b border-gray-300': !last}">
        <div class="relative">
            <div (click)="openPostDetail(post)" class="cursor-pointer">
                <app-post [post]="post" (deleted)="permanentlyDelete(post)"></app-post>
            </div>

            <div class="trash-actions absolute right-3 top-3 flex items-center gap-2">
                <button
                    class="text-xs flex items-center gap-2 bg-green-600 text-white px-2 py-1 rounded-md shadow-sm cursor-pointer"
                    (click)="restore(post, $event)">
                    <i class="fa-solid fa-rotate-left"></i>
                    <span>Khôi phục</span>
                </button>

                <button
                    class="text-xs flex items-center gap-2 bg-red-600 text-white px-2 py-1 rounded-md shadow-sm cursor-pointer"
                    (click)="permanentlyDelete(post, $event)">
                    <i class="fa-solid fa-trash-can"></i>
                    <span>Xóa</span>
                </button>
            </div>
        </div>
    </div>

    <div class="py-2 flex justify-center" *ngIf="isLoading">
        <app-loading></app-loading>
    </div>
</div>